/*!
 * baguetteBox.js
 * @author  feimosi
 * @version 1.8.2
 */
!function(t,e){"use strict";"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.baguetteBox=e()}(this,(function(){"use strict";var t,e,n,o,i,a='<svg width="44" height="60"><polyline points="30 10 10 30 30 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>',r='<svg width="44" height="60"><polyline points="14 10 34 30 14 50" stroke="rgba(255,255,255,0.5)" stroke-width="4"stroke-linecap="butt" fill="none" stroke-linejoin="round"/></svg>',l='<svg width="30" height="30"><g stroke="rgb(160,160,160)" stroke-width="4"><line x1="5" y1="5" x2="25" y2="25"/><line x1="5" y1="25" x2="25" y2="5"/></g></svg>',u={},s={captions:!0,fullScreen:!1,noScrollbars:!1,titleTag:!1,buttons:"auto",async:!1,preload:2,animation:"slideIn",afterShow:null,afterHide:null,onChange:null,overlayBackgroundColor:"rgba(0,0,0,.8)"},c={},d=[],f=0,g={},m=!1,p=/.+\.(gif|jpe?g|png|webp)/i,b={},h=[],v=null,y=function(t){-1!==t.target.id.indexOf("baguette-img")&&P()},w=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,L()},k=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,H()},x=function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,P()},C=function(t){g.count++,g.count>1&&(g.multitouch=!0),g.startX=t.changedTouches[0].pageX,g.startY=t.changedTouches[0].pageY},E=function(t){if(!m&&!g.multitouch){t.preventDefault?t.preventDefault():t.returnValue=!1;var e=t.touches[0]||t.changedTouches[0];e.pageX-g.startX>40?(m=!0,L()):e.pageX-g.startX<-40?(m=!0,H()):g.startY-e.pageY>100&&P()}},B=function(){g.count--,g.count<=0&&(g.multitouch=!1),m=!1},T=function(e){"block"===t.style.display&&t.contains&&!t.contains(e.target)&&(e.stopPropagation(),S())};function N(t){if(b.hasOwnProperty(t)){var e=b[t].galleries;[].forEach.call(e,(function(t){[].forEach.call(t,(function(t){X(t.imageElement,"click",t.eventHandler)})),d===t&&(d=[])})),delete b[t]}}function A(t){switch(t.keyCode){case 37:L();break;case 39:H();break;case 27:P()}}function S(){u.buttons?n.focus():i.focus()}function P(){u.noScrollbars&&(document.documentElement.style.overflowY="auto",document.body.style.overflowY="auto"),"none"!==t.style.display&&(X(document,"keydown",A),t.className="",setTimeout((function(){t.style.display="none",document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),u.afterHide&&u.afterHide()}),500),v.focus())}function F(t,e){var n=h[t],o=d[t];if(void 0!==n&&void 0!==o)if(n.getElementsByTagName("img")[0])e&&e();else{var i=o.imageElement,a=i.getElementsByTagName("img")[0],r="function"==typeof u.captions?u.captions.call(d,i):i.getAttribute("data-caption")||i.title,l=function(t){var e=t.href;if(t.dataset){var n=[];for(var o in t.dataset)"at-"!==o.substring(0,3)||isNaN(o.substring(3))||(n[o.replace("at-","")]=t.dataset[o]);for(var i=Object.keys(n).sort((function(t,e){return parseInt(t,10)<parseInt(e,10)?-1:1})),a=window.innerWidth*window.devicePixelRatio,r=0;r<i.length-1&&i[r]<a;)r++;e=n[i[r]]||e}return e}(i),s=R("figure");if(s.id="baguetteBox-figure-"+t,s.innerHTML='<div class="baguetteBox-spinner"><div class="baguetteBox-double-bounce1"></div><div class="baguetteBox-double-bounce2"></div></div>',u.captions&&r){var c=R("figcaption");c.id="baguetteBox-figcaption-"+t,c.innerHTML=r,s.appendChild(c)}n.appendChild(s);var f=R("img");f.onload=function(){var n=document.querySelector("#baguette-img-"+t+" .baguetteBox-spinner");s.removeChild(n),!u.async&&e&&e()},f.setAttribute("src",l),f.alt=a&&a.alt||"",u.titleTag&&r&&(f.title=r),s.appendChild(f),u.async&&e&&e()}}function H(){var t;return f<=h.length-2?(f++,I(),Y(f),t=!0):u.animation&&(e.className="bounce-from-right",setTimeout((function(){e.className=""}),400),t=!1),u.onChange&&u.onChange(f,h.length),t}function L(){var t;return f>=1?(f--,I(),q(f),t=!0):u.animation&&(e.className="bounce-from-left",setTimeout((function(){e.className=""}),400),t=!1),u.onChange&&u.onChange(f,h.length),t}function I(){var t=100*-f+"%";"fadeIn"===u.animation?(e.style.opacity=0,setTimeout((function(){c.transforms?e.style.transform=e.style.webkitTransform="translate3d("+t+",0,0)":e.style.left=t,e.style.opacity=1}),400)):c.transforms?e.style.transform=e.style.webkitTransform="translate3d("+t+",0,0)":e.style.left=t}function Y(t){t-f>=u.preload||F(t+1,(function(){Y(t+1)}))}function q(t){f-t>=u.preload||F(t-1,(function(){q(t-1)}))}function j(t,e,n,o){t.addEventListener?t.addEventListener(e,n,o):t.attachEvent("on"+e,(function(t){(t=t||window.event).target=t.target||t.srcElement,n(t)}))}function X(t,e,n,o){t.removeEventListener?t.removeEventListener(e,n,o):t.detachEvent("on"+e,n)}function M(t){return document.getElementById(t)}function R(t){return document.createElement(t)}return[].forEach||(Array.prototype.forEach=function(t,e){for(var n=0;n<this.length;n++)t.call(e,this[n],n,this)}),[].filter||(Array.prototype.filter=function(t,e,n,o,i){for(n=this,o=[],i=0;i<n.length;i++)t.call(e,n[i],i,n)&&o.push(n[i]);return o}),{run:function(m,P){var H;c.transforms=void 0!==(H=R("div")).style.perspective||void 0!==H.style.webkitPerspective,c.svg=function(){var t=R("div");return t.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(t.firstChild&&t.firstChild.namespaceURI)}(),function(){if(t=M("baguetteBox-overlay"))return e=M("baguetteBox-slider"),n=M("previous-button"),o=M("next-button"),void(i=M("close-button"));(t=R("div")).setAttribute("role","dialog"),t.id="baguetteBox-overlay",document.getElementsByTagName("body")[0].appendChild(t),(e=R("div")).id="baguetteBox-slider",t.appendChild(e),(n=R("button")).setAttribute("type","button"),n.id="previous-button",n.setAttribute("aria-label","Previous"),n.innerHTML=c.svg?a:"<",t.appendChild(n),(o=R("button")).setAttribute("type","button"),o.id="next-button",o.setAttribute("aria-label","Next"),o.innerHTML=c.svg?r:">",t.appendChild(o),(i=R("button")).setAttribute("type","button"),i.id="close-button",i.setAttribute("aria-label","Close"),i.innerHTML=c.svg?l:"Ã—",t.appendChild(i),n.className=o.className=i.className="baguetteBox-button",j(t,"click",y),j(n,"click",w),j(o,"click",k),j(i,"click",x),j(t,"touchstart",C),j(t,"touchmove",E),j(t,"touchend",B),j(document,"focus",T,!0)}(),N(m),function(i,a){var r=document.querySelectorAll(i),l={galleries:[],nodeList:r};b[i]=l,[].forEach.call(r,(function(i){a&&a.filter&&(p=a.filter);var r=[];if(r="A"===i.tagName?[i]:i.getElementsByTagName("a"),0!==(r=[].filter.call(r,(function(t){return p.test(t.href)}))).length){var c=[];[].forEach.call(r,(function(i,r){var l=function(i){i.preventDefault?i.preventDefault():i.returnValue=!1,function(i,a){if(d===i)return;d=i,function(i){i||(i={});for(var a in s)u[a]=s[a],void 0!==i[a]&&(u[a]=i[a]);e.style.transition=e.style.webkitTransition="fadeIn"===u.animation?"opacity .4s ease":"slideIn"===u.animation?"":"none","auto"!==u.buttons||!("ontouchstart"in window)&&1!==d.length||(u.buttons=!1);n.style.display=o.style.display=u.buttons?"":"none";try{t.style.backgroundColor=u.overlayBackgroundColor}catch(t){}}(a);for(;e.firstChild;)e.removeChild(e.firstChild);h.length=0;for(var r,l=[],c=[],f=0;f<i.length;f++)(r=R("div")).className="full-image",r.id="baguette-img-"+f,h.push(r),l.push("baguetteBox-figure-"+f),c.push("baguetteBox-figcaption-"+f),e.appendChild(h[f]);t.setAttribute("aria-labelledby",l.join(" ")),t.setAttribute("aria-describedby",c.join(" "))}(c,a),function(e){u.noScrollbars&&(document.documentElement.style.overflowY="hidden",document.body.style.overflowY="scroll");if("block"===t.style.display)return;j(document,"keydown",A),g={count:0,startX:null,startY:null},F(f=e,(function(){Y(f),q(f)})),I(),t.style.display="block",u.fullScreen&&(t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen&&t.mozRequestFullScreen());setTimeout((function(){t.className="visible",u.afterShow&&u.afterShow()}),50),u.onChange&&u.onChange(f,h.length);v=document.activeElement,S()}(r)},m={eventHandler:l,imageElement:i};j(i,"click",l),c.push(m)})),l.galleries.push(c)}}))}(m,P)},destroy:function(){X(t,"click",y),X(n,"click",w),X(o,"click",k),X(i,"click",x),X(t,"touchstart",C),X(t,"touchmove",E),X(t,"touchend",B),X(document,"focus",T,!0),function(){for(var t in b)b.hasOwnProperty(t)&&N(t)}(),X(document,"keydown",A),document.getElementsByTagName("body")[0].removeChild(document.getElementById("baguetteBox-overlay")),b={},d=[],f=0},showNext:H,showPrevious:L}}));