<!DOCTYPE HTML><html lang="zh-CN"><head><meta charset="utf-8"><meta name="keywords" content=""><meta name="description" content="个人博客、记录"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="renderer" content="webkit|ie-stand|ie-comp"><meta name="mobile-web-app-capable" content="yes"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="referrer" content="no-referrer"><title></title><link rel="icon" type="image/png" href="/favicon.png"><link rel="stylesheet" href="/libs/awesome/css/all.css"><link rel="stylesheet" href="/libs/materialize/materialize.min.css"><link rel="stylesheet" href="/libs/aos/aos.css"><link rel="stylesheet" href="/libs/animate/animate.min.css"><link rel="stylesheet" href="/libs/lightGallery/css/lightgallery.min.css"><link rel="stylesheet" href="/css/matery.css"><link rel="stylesheet" href="/css/my.css"><script src="/libs/jquery/jquery.min.js"></script><meta name="generator" content="Hexo 6.3.0"><style>.github-emoji{position:relative;display:inline-block;width:1.2em;min-height:1.2em;overflow:hidden;vertical-align:top;color:transparent}.github-emoji>span{position:relative;z-index:10}.github-emoji .fancybox,.github-emoji img{margin:0!important;padding:0!important;border:none!important;outline:0!important;text-decoration:none!important;user-select:none!important;cursor:auto!important}.github-emoji img{height:1.2em!important;width:1.2em!important;position:absolute!important;left:50%!important;top:50%!important;transform:translate(-50%,-50%)!important;user-select:none!important;cursor:auto!important}.github-emoji-fallback{color:inherit}.github-emoji-fallback img{opacity:0!important}</style><link rel="stylesheet" href="/css/prism-tomorrow.css"></head><body><header class="navbar-fixed"><nav id="headNav" class="bg-color nav-transparent"><div id="navContainer" class="nav-wrapper container"><div class="brand-logo"><a href="/" class="waves-effect waves-light"><img src="/coderc.png" class="logo-img" alt="LOGO"></a></div><a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a><ul class="right nav-menu"><li class="hide-on-med-and-down nav-item"><a href="/" class="waves-effect waves-light"><i class="fas fa-home" style="zoom:0.6"></i> <span>首页</span></a></li><li class="hide-on-med-and-down nav-item"><a href="" class="waves-effect waves-light"><i class="fas fa-list" style="zoom:0.6"></i> <span>文章</span><i class="fas fa-chevron-down" aria-hidden="true" style="zoom:0.6"></i></a><ul class="sub-nav menus_item_child"><li><a href="/tags"><i class="fas fa-tags" style="margin-top:-20px;zoom:0.6"></i> <span>标签</span></a></li><li><a href="/categories"><i class="fas fa-bookmark" style="margin-top:-20px;zoom:0.6"></i> <span>分类</span></a></li></ul></li><li class="hide-on-med-and-down nav-item"><a href="/archives" class="waves-effect waves-light"><i class="fas fa-archive" style="zoom:0.6"></i> <span>归档</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/about" class="waves-effect waves-light"><i class="fas fa-user-circle" style="zoom:0.6"></i> <span>关于</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/friends" class="waves-effect waves-light"><i class="fas fa-list" style="zoom:0.6"></i> <span>友链留言</span></a></li><li><a href="#searchModal" class="modal-trigger waves-effect waves-light"><i id="searchIcon" class="fas fa-search" title="搜索" style="zoom:0.85"></i></a></li></ul><div id="mobile-nav" class="side-nav sidenav"><div class="mobile-head bg-color"><div class="logo-name"></div><div class="logo-desc">个人博客、记录</div></div><ul class="menu-list mobile-menu-list"><li class="m-nav-item"><a href="/" class="waves-effect waves-light"><i class="fa-fw fas fa-home"></i> 首页</a></li><li class="m-nav-item"><a href="javascript:;"><i class="fa-fw fas fa-list"></i> 文章<span class="m-icon"><i class="fas fa-chevron-right"></i></span></a><ul><li><a href="/tags" style="margin-left:75px"><i class="fa fas fa-tags" style="position:absolute;left:50px"></i> <span>标签</span></a></li><li><a href="/categories" style="margin-left:75px"><i class="fa fas fa-bookmark" style="position:absolute;left:50px"></i> <span>分类</span></a></li></ul></li><li class="m-nav-item"><a href="/archives" class="waves-effect waves-light"><i class="fa-fw fas fa-archive"></i> 归档</a></li><li class="m-nav-item"><a href="/about" class="waves-effect waves-light"><i class="fa-fw fas fa-user-circle"></i> 关于</a></li><li class="m-nav-item"><a href="/friends" class="waves-effect waves-light"><i class="fa-fw fas fa-list"></i> 友链留言</a></li><li><div class="divider"></div></li><li><a href="https://github.com/incheon0922" class="waves-effect waves-light" target="_blank"><i class="fab fa-github-square fa-fw"></i> Fork Me</a></li></ul></div></div><style>.nav-transparent .github-corner{display:none!important}.github-corner{position:absolute;z-index:10;top:0;right:0;border:0;transform:scale(1.1)}.github-corner svg{fill:#fff;height:64px;width:64px;color:#18283f}.github-corner:hover .octo-arm{animation:a .56s ease-in-out}.github-corner .octo-arm{animation:none}@keyframes a{0%,to{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}</style><a href="https://github.com/incheon0922" class="github-corner tooltipped hide-on-med-and-down" target="_blank" data-tooltip="Fork Me" data-position="left" data-delay="50"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0 0 115 115 130 115 142 142 250 250 250 0Z"></path><path d="M128.3 109C113.8 99.7 119 89.6 119 89.6 122 82.7 120.5 78.6 120.5 78.6 119.2 72 123.4 76.3 123.4 76.3 127.3 80.9 125.5 87.3 125.5 87.3 122.9 97.6 130.6 101.9 134.4 103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115 115C114.9 115.1 118.7 116.5 119.8 115.4L133.7 101.6C136.9 99.2 139.9 98.4 142.2 98.6 133.8 88 127.5 74.4 143.8 58 148.5 53.4 154 51.2 159.7 51 160.3 49.4 163.2 43.6 171.4 40.1 171.4 40.1 176.1 42.5 178.8 56.2 183.1 58.6 187.2 61.8 190.9 65.4 194.5 69 197.7 73.2 200.1 77.6 213.8 80.2 216.3 84.9 216.3 84.9 212.7 93.1 206.9 96 205.4 96.6 205.1 102.4 203 107.8 198.3 112.5 181.9 128.9 168.3 122.5 157.7 114.1 157.9 116.9 156.7 120.9 152.7 124.9L141 136.5C139.8 137.7 141.6 141.9 141.8 141.8Z" fill="currentColor" class="octo-body"></path></svg></a></nav></header><style>.carousel-control{width:45px;height:45px;line-height:55px;border-radius:45px;background:0 0;cursor:pointer;z-index:100}#prev-cover{position:absolute;top:48%;left:8px}#next-cover{position:absolute;top:48%;right:8px}#prev-cover i{margin-right:3px}#next-cover i{margin-left:3px}.carousel-control:hover{background-color:rgba(0,0,0,.4)}.carousel-control i{color:#fff;font-size:2.4rem}</style><div class="carousel carousel-slider center index-cover" data-indicators="true" style="margin-top:-64px"><div class="carousel-item red white-text bg-cover about-cover"><div class="container"><div class="cover-btns"><a href="#indexCard" class="waves-effect waves-light btn"><i class="fa fa-angle-double-down" style="zoom:1.1;padding-right:5px"></i> 开始阅读</a><a href="https://github.com/incheon0922" class="waves-effect waves-light btn" target="_blank"><i class="fab fa-github-alt" style="zoom:1.1;padding-right:13px"></i> Github</a></div><div class="cover-social-link"><a href="https://github.com/incheon0922" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50"><i class="fab fa-github"></i></a><a href="https://space.bilibili.com/311652727?spm_id_from=333.1007.0.0" class="tooltipped" target="_blank" data-tooltip="bilibili" data-position="top" data-delay="50"><i class="fab fa-bilibili"></i></a></div></div></div></div><script>let canvas;$((function(){let e,n=$(".carousel"),t=!1;n.carousel({duration:Number("120"),fullWidth:!0,indicators:!0,onCycleTo(){var e;t||(e=this,setInterval((()=>{(e.pressed||e.dragged)&&o()}),1e3),t=!0)}});let a=function(){e=setInterval((function(){n.carousel("next")}),5e3)};function o(){clearInterval(e),a()}a(),$("#prev-cover").click((function(){n.carousel("prev"),o()})),$("#next-cover").click((function(){n.carousel("next"),o()}))}));const vertexShaderSource="#version 300 es\n        in vec4 apos;\n\n        void main(){\n\n            gl_Position = apos;\n\n    }\n";let webgl,render,fragmentShaderSource="#version 300 es\n    precision mediump float;\n\n    uniform vec3  iResolution;\n    uniform float iTime;\n    uniform vec3 iMouse;\n\n    //下面一行作为插入位置，它是一段特定的注释，作为识别并替换成 shadertoy片段 代码用。\n    //=#*INSERT_LOCATION*#=\n\n\n    out vec4 color;\n\n    void main(){\n\n        vec4 col = vec4(0.0 , 0.0 , 0.0 , 1.0);\n        mainImage(col , gl_FragCoord.xy);     //改函数是 shadertoy 固定接口，它会输出一个颜色。\n        color = col ;\n\n    }",sToyTest="\n\n        // afl_ext 2017-2023\n        // Now with 2023 refresh\n        // MIT License\n\n        // Use your mouse to move the camera around! Press the Left Mouse Button on the image to look around!\n\n        #define DRAG_MULT 0.28 // changes how much waves pull on the water\n        #define WATER_DEPTH 1.0 // how deep is the water\n        #define CAMERA_HEIGHT 1.5 // how high the camera should be\n        #define ITERATIONS_RAYMARCH 12 // waves iterations of raymarching\n        #define ITERATIONS_NORMAL 40 // waves iterations when calculating normals\n\n        #define NormalizedMouse (iMouse.xy / iResolution.xy) // normalize mouse coords\n\n        // Calculates wave value and its derivative,\n        // for the wave direction, position in space, wave frequency and time\n        vec2 wavedx(vec2 position, vec2 direction, float frequency, float timeshift) {\n        float x = dot(direction, position) * frequency + timeshift;\n        float wave = exp(sin(x) - 1.0);\n        float dx = wave * cos(x);\n        return vec2(wave, -dx);\n        }\n\n        // Calculates waves by summing octaves of various waves with various parameters\n        float getwaves(vec2 position, int iterations) {\n        float iter = 0.0; // this will help generating well distributed wave directions\n        float frequency = 1.0; // frequency of the wave, this will change every iteration\n        float timeMultiplier = 2.0; // time multiplier for the wave, this will change every iteration\n        float weight = 1.0;// weight in final sum for the wave, this will change every iteration\n        float sumOfValues = 0.0; // will store final sum of values\n        float sumOfWeights = 0.0; // will store final sum of weights\n        for(int i=0; i < iterations; i++) {\n            // generate some wave direction that looks kind of random\n            vec2 p = vec2(sin(iter), cos(iter));\n            // calculate wave data\n            vec2 res = wavedx(position, p, frequency, iTime * timeMultiplier);\n\n            // shift position around according to wave drag and derivative of the wave\n            position += p * res.y * weight * DRAG_MULT;\n\n            // add the results to sums\n            sumOfValues += res.x * weight;\n            sumOfWeights += weight;\n\n            // modify next octave parameters\n            weight *= 0.82;\n            frequency *= 1.18;\n            timeMultiplier *= 1.07;\n\n            // add some kind of random value to make next wave look random too\n            iter += 1232.399963;\n        }\n        // calculate and return\n        return sumOfValues / sumOfWeights;\n        }\n\n        // Raymarches the ray from top water layer boundary to low water layer boundary\n        float raymarchwater(vec3 camera, vec3 start, vec3 end, float depth) {\n        vec3 pos = start;\n        vec3 dir = normalize(end - start);\n        for(int i=0; i < 64; i++) {\n            // the height is from 0 to -depth\n            float height = getwaves(pos.xz, ITERATIONS_RAYMARCH) * depth - depth;\n            // if the waves height almost nearly matches the ray height, assume its a hit and return the hit distance\n            if(height + 0.01 > pos.y) {\n            return distance(pos, camera);\n            }\n            // iterate forwards according to the height mismatch\n            pos += dir * (pos.y - height);\n        }\n        // if hit was not registered, just assume hit the top layer,\n        // this makes the raymarching faster and looks better at higher distances\n        return distance(start, camera);\n        }\n\n        // Calculate normal at point by calculating the height at the pos and 2 additional points very close to pos\n        vec3 normal(vec2 pos, float e, float depth) {\n        vec2 ex = vec2(e, 0);\n        float H = getwaves(pos.xy, ITERATIONS_NORMAL) * depth;\n        vec3 a = vec3(pos.x, H, pos.y);\n        return normalize(\n            cross(\n            a - vec3(pos.x - e, getwaves(pos.xy - ex.xy, ITERATIONS_NORMAL) * depth, pos.y),\n            a - vec3(pos.x, getwaves(pos.xy + ex.yx, ITERATIONS_NORMAL) * depth, pos.y + e)\n            )\n        );\n        }\n\n        // Helper function generating a rotation matrix around the axis by the angle\n        mat3 createRotationMatrixAxisAngle(vec3 axis, float angle) {\n        float s = sin(angle);\n        float c = cos(angle);\n        float oc = 1.0 - c;\n        return mat3(\n            oc * axis.x * axis.x + c, oc * axis.x * axis.y - axis.z * s, oc * axis.z * axis.x + axis.y * s,\n            oc * axis.x * axis.y + axis.z * s, oc * axis.y * axis.y + c, oc * axis.y * axis.z - axis.x * s,\n            oc * axis.z * axis.x - axis.y * s, oc * axis.y * axis.z + axis.x * s, oc * axis.z * axis.z + c\n        );\n        }\n\n        // Helper function that generates camera ray based on UV and mouse\n        vec3 getRay(vec2 fragCoord) {\n        vec2 uv = ((fragCoord.xy / iResolution.xy) * 2.0 - 1.0) * vec2(iResolution.x / iResolution.y, 1.0);\n        // for fisheye, uncomment following line and comment the next one\n        //vec3 proj = normalize(vec3(uv.x, uv.y, 1.0) + vec3(uv.x, uv.y, -1.0) * pow(length(uv), 2.0) * 0.05);\n        vec3 proj = normalize(vec3(uv.x, uv.y, 1.5));\n        if(iResolution.x < 600.0) {\n            return proj;\n        }\n        return createRotationMatrixAxisAngle(vec3(0.0, -1.0, 0.0), 3.0 * ((NormalizedMouse.x + 0.5) * 2.0 - 1.0))\n            * createRotationMatrixAxisAngle(vec3(1.0, 0.0, 0.0), 0.5 + 1.5 * ((NormalizedMouse.y * 1.5) * 2.0 - 1.0))\n            * proj;\n        }\n\n        // Ray-Plane intersection checker\n        float intersectPlane(vec3 origin, vec3 direction, vec3 point, vec3 normal) {\n        return clamp(dot(point - origin, normal) / dot(direction, normal), -1.0, 9991999.0);\n        }\n\n        // Some very barebones but fast atmosphere approximation\n        vec3 extra_cheap_atmosphere(vec3 raydir, vec3 sundir) {\n        sundir.y = max(sundir.y, -0.07);\n        float special_trick = 1.0 / (raydir.y * 1.0 + 0.1);\n        float special_trick2 = 1.0 / (sundir.y * 11.0 + 1.0);\n        float raysundt = pow(abs(dot(sundir, raydir)), 2.0);\n        float sundt = pow(max(0.0, dot(sundir, raydir)), 8.0);\n        float mymie = sundt * special_trick * 0.2;\n        vec3 suncolor = mix(vec3(1.0), max(vec3(0.0), vec3(1.0) - vec3(5.5, 13.0, 22.4) / 22.4), special_trick2);\n        vec3 bluesky= vec3(5.5, 13.0, 22.4) / 22.4 * suncolor;\n        vec3 bluesky2 = max(vec3(0.0), bluesky - vec3(5.5, 13.0, 22.4) * 0.002 * (special_trick + -6.0 * sundir.y * sundir.y));\n        bluesky2 *= special_trick * (0.24 + raysundt * 0.24);\n        return bluesky2 * (1.0 + 1.0 * pow(1.0 - raydir.y, 3.0)) + mymie * suncolor;\n        }\n\n        // Calculate where the sun should be, it will be moving around the sky\n        vec3 getSunDirection() {\n        return normalize(vec3(sin(iTime * 0.1), 1.0, cos(iTime * 0.1)));\n        }\n\n        // Get atmosphere color for given direction\n        vec3 getAtmosphere(vec3 dir) {\n        return extra_cheap_atmosphere(dir, getSunDirection()) * 0.5;\n        }\n\n        // Get sun color for given direction\n        float getSun(vec3 dir) {\n        return pow(max(0.0, dot(dir, getSunDirection())), 720.0) * 210.0;\n        }\n\n        // Great tonemapping function from my other shader: https://www.shadertoy.com/view/XsGfWV\n        vec3 aces_tonemap(vec3 color) {\n        mat3 m1 = mat3(\n            0.59719, 0.07600, 0.02840,\n            0.35458, 0.90834, 0.13383,\n            0.04823, 0.01566, 0.83777\n        );\n        mat3 m2 = mat3(\n            1.60475, -0.10208, -0.00327,\n            -0.53108,  1.10813, -0.07276,\n            -0.07367, -0.00605,  1.07602\n        );\n        vec3 v = m1 * color;\n        vec3 a = v * (v + 0.0245786) - 0.000090537;\n        vec3 b = v * (0.983729 * v + 0.4329510) + 0.238081;\n        return pow(clamp(m2 * (a / b), 0.0, 1.0), vec3(1.0 / 2.2));\n        }\n\n        // Main\n        void mainImage(out vec4 fragColor, in vec2 fragCoord) {\n        // get the ray\n        vec3 ray = getRay(fragCoord);\n        if(ray.y >= 0.0) {\n            // if ray.y is positive, render the sky\n            vec3 C = getAtmosphere(ray) + getSun(ray);\n            fragColor = vec4(aces_tonemap(C * 2.0),1.0);\n            return;\n        }\n\n        // now ray.y must be negative, water must be hit\n        // define water planes\n        vec3 waterPlaneHigh = vec3(0.0, 0.0, 0.0);\n        vec3 waterPlaneLow = vec3(0.0, -WATER_DEPTH, 0.0);\n\n        // define ray origin, moving around\n        vec3 origin = vec3(iTime, CAMERA_HEIGHT, iTime);\n\n        // calculate intersections and reconstruct positions\n        float highPlaneHit = intersectPlane(origin, ray, waterPlaneHigh, vec3(0.0, 1.0, 0.0));\n        float lowPlaneHit = intersectPlane(origin, ray, waterPlaneLow, vec3(0.0, 1.0, 0.0));\n        vec3 highHitPos = origin + ray * highPlaneHit;\n        vec3 lowHitPos = origin + ray * lowPlaneHit;\n\n        // raymatch water and reconstruct the hit pos\n        float dist = raymarchwater(origin, highHitPos, lowHitPos, WATER_DEPTH);\n        vec3 waterHitPos = origin + ray * dist;\n\n        // calculate normal at the hit position\n        vec3 N = normal(waterHitPos.xz, 0.01, WATER_DEPTH);\n\n        // smooth the normal with distance to avoid disturbing high frequency noise\n        N = mix(N, vec3(0.0, 1.0, 0.0), 0.8 * min(1.0, sqrt(dist*0.01) * 1.1));\n\n        // calculate fresnel coefficient\n        float fresnel = (0.04 + (1.0-0.04)*(pow(1.0 - max(0.0, dot(-N, ray)), 5.0)));\n\n        // reflect the ray and make sure it bounces up\n        vec3 R = normalize(reflect(ray, N));\n        R.y = abs(R.y);\n\n        // calculate the reflection and approximate subsurface scattering\n        vec3 reflection = getAtmosphere(R) + getSun(R);\n        vec3 scattering = vec3(0.0293, 0.0698, 0.1717) * (0.2 + (waterHitPos.y + WATER_DEPTH) / WATER_DEPTH);\n\n        // return the combined result\n        vec3 C = fresnel * reflection + (1.0 - fresnel) * scattering;\n        fragColor = vec4(aces_tonemap(C * 2.0), 1.0);\n        }\n    ",time=Date.now(),totalTimeSec=0;function initBuffer(){const e=new Float32Array([-1,-1,0,0,0,-1,1,0,0,1,1,1,0,1,1,1,1,0,1,1,1,-1,0,1,0,-1,-1,0,0,0]),n=webgl.getAttribLocation(webgl.program,"apos"),t=webgl.createBuffer();webgl.bindBuffer(webgl.ARRAY_BUFFER,t),webgl.bufferData(webgl.ARRAY_BUFFER,e,webgl.STATIC_DRAW),webgl.vertexAttribPointer(n,3,webgl.FLOAT,!1,20,0),webgl.enableVertexAttribArray(n);const a=webgl.getUniformLocation(webgl.program,"iResolution");webgl.uniform3f(a,webgl.canvas.width,webgl.canvas.height,1);const o=webgl.getUniformLocation(webgl.program,"iTime");webgl.uniform1f(o,totalTimeSec);const r=webgl.getUniformLocation(webgl.program,"iMouse");webgl.uniform3f(r,300,100,0)}const renderLoop=()=>{const e=Date.now();totalTimeSec+=.001*(e-time),time=e;const n=webgl.getUniformLocation(webgl.program,"iResolution");webgl.uniform3f(n,webgl.canvas.width,webgl.canvas.height,1);const t=webgl.getUniformLocation(webgl.program,"iTime");webgl.uniform1f(t,totalTimeSec),webgl.drawArrays(webgl.TRIANGLES,0,6),render=requestAnimationFrame(renderLoop)};function destroy(){render&&cancelAnimationFrame(render)}function initShader(e,n,t){if(!e||!n||!t)return;let a;const o=document.getElementById(e);a=n.includes("#version 300 es")||t.includes("#version 300 es")?o.getContext("webgl2"):o.getContext("webgl");const r=a.createShader(a.VERTEX_SHADER),i=a.createShader(a.FRAGMENT_SHADER);if(a.shaderSource(r,n),a.shaderSource(i,t),a.compileShader(r),a.compileShader(i),!a.getShaderParameter(r,a.COMPILE_STATUS)){const e=a.getShaderInfoLog(r);return void console.log(e)}if(!a.getShaderParameter(i,a.COMPILE_STATUS)){const e=a.getShaderInfoLog(i);return void console.log(e)}const s=a.createProgram();return a.attachShader(s,r),a.attachShader(s,i),a.linkProgram(s),a.useProgram(s),a.program=s,a}function init(){$(".carousel-item").removeClass("red"),canvas=document.createElement("canvas"),canvas.height=document.querySelector(".carousel").clientHeight,canvas.width=document.querySelector(".carousel").clientWidth,canvas.id="canvas",canvas.style.background="rgba(0,0,0,1.0)",document.querySelector(".carousel").appendChild(canvas),fragmentShaderSource=fragmentShaderSource.replace("//=#*INSERT_LOCATION*#=",sToyTest),webgl=initShader("canvas",vertexShaderSource,fragmentShaderSource),initBuffer(),renderLoop()}init()</script><main class="content"><div id="indexCard" class="index-card"><div class="container"><div class="card"><div class="card-content"><div id="recommend-sections" class="recommend"></div></div></div></div></div><article id="articles" class="container articles"><div class="row article-row"><div class="article col s12 m6 l4" data-aos="zoom-in"><div class="card"><a href="/2025/07/21/three-liu-ti/"><div class="card-image"><img src="https://bu.dusays.com/2025/07/21/687defb09a13a.png" class="responsive-img" alt="three流体"> <span class="card-title">three流体</span></div></a><div class="card-content article-content"><div class="summary block-with-text">之前参考各位大佬的例子，在cesium上面完成了流体的迁移。但总觉得如果在three里面还没完成，会觉得少了点什么。 于是在经过长时间的研究之后，终于折腾出来一个版本。实现原理与cesium的不尽相同。 之前体渲染没有考虑深度的原因</div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i> 2025-07-21</span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/three/" class="post-category">three</a></span></div></div><div class="card-action article-tags"><a href="/tags/three-%E5%A4%9A%E7%BC%93%E5%86%B2-%E6%B5%81%E4%BD%93-webgl/"><span class="chip bg-color">three 多缓冲 流体 webgl</span></a></div></div></div><div class="article col s12 m6 l4" data-aos="zoom-in"><div class="card"><a href="/2025/06/25/three-ke-shi-hua-di-xing-shen-du-tu/"><div class="card-image"><img src="https://bu.dusays.com/2025/06/25/685ba64aaedf1.png" class="responsive-img" alt="three可视化地形深度图"> <span class="card-title">three可视化地形深度图</span></div></a><div class="card-content article-content"><div class="summary block-with-text">深度图在可视化应用中有很多方面，比如地形、阴影等。本文结合获取的地形深度图以及体渲染相关的知识，将获取到的地形深度值还原为地形图并展示出来，借此为后续的流体渲染提供一定的参考。 思路1、创建覆盖渲染范围的正射相机，获取深度图。这里注意相机近</div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i> 2025-06-25</span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/three/" class="post-category">three</a></span></div></div><div class="card-action article-tags"><a href="/tags/three-terrain-%E6%B7%B1%E5%BA%A6%E5%9B%BE/"><span class="chip bg-color">three terrain 深度图</span></a></div></div></div><div class="article col s12 m6 l4" data-aos="zoom-in"><div class="card"><a href="/2025/01/03/san-wei-feng-chang-shi-xian/"><div class="card-image"><img src="https://bu.dusays.com/2025/01/03/67779891de10c.png" class="responsive-img" alt="三维风场实现"> <span class="card-title">三维风场实现</span></div></a><div class="card-content article-content"><div class="summary block-with-text">当前风场数据在cesium中展示有比较多的实现方法，例如可以使用3D-Wind-Field使用自定义DrawCommand绘制，也可以使用leaflet-velocity，基于canvas绘制来实现可视化效果，本文基于前者代码并做了一些改动</div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i> 2025-01-03</span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/cesium/" class="post-category">cesium</a></span></div></div><div class="card-action article-tags"><a href="/tags/%E9%A3%8E%E5%9C%BA-%E4%B8%89%E7%BB%B4-nc%E6%95%B0%E6%8D%AE/"><span class="chip bg-color">风场 三维 nc数据</span></a></div></div></div><div class="article col s12 m6 l4" data-aos="zoom-in"><div class="card"><a href="/2024/12/16/drawcommand-de-pi-liang-shi-li-hua/"><div class="card-image"><img src="https://bu.dusays.com/2024/12/16/675f859d1d17f.png" class="responsive-img" alt="Drawcommand的批量实例化"> <span class="card-title">Drawcommand的批量实例化</span></div></a><div class="card-content article-content"><div class="summary block-with-text">最近遇到一个需求，后端在给定范围里面生成了几万个格子，我需要根据这些数据绘制三层同样的格子并在前端展示出来，三层近十万个格子如果用geometryInstances绘制的话会出现页面阻塞的情况，导致页面浏览效果不是很好，需要优化一下加载速度</div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i> 2024-12-16</span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/cesium/" class="post-category">cesium</a></span></div></div><div class="card-action article-tags"><a href="/tags/drawcommand-%E5%AE%9E%E4%BE%8B%E5%8C%96/"><span class="chip bg-color">drawcommand 实例化</span></a></div></div></div><div class="article col s12 m6 l4" data-aos="zoom-in"><div class="card"><a href="/2024/09/12/liu-ti-ke-shi-hua/"><div class="card-image"><img src="/medias/fluid.png" class="responsive-img" alt="流体可视化"> <span class="card-title">流体可视化</span></div></a><div class="card-content article-content"><div class="summary block-with-text">基于cesium实现的流体渲染效果,shaderToy上面有很多关于流体渲染相关的例子，将这些效果移植到cesium上面可以在一定程度上增强水体淹没等三维可视化展示效果。本文结合网上各位大佬的例子，基于高度图采样实现流体渲染，大致思路如下</div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i> 2024-09-12</span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/cesium/" class="post-category">cesium</a></span></div></div><div class="card-action article-tags"><a href="/tags/%E4%BD%93%E6%B8%B2%E6%9F%93-%E6%B5%81%E4%BD%93%E5%8F%AF%E8%A7%86%E5%8C%96-%E5%B8%A7%E7%BC%93%E5%86%B2/"><span class="chip bg-color">体渲染 流体可视化 帧缓冲</span></a></div></div></div><div class="article col s12 m6 l4" data-aos="zoom-in"><div class="card"><a href="/2024/05/30/bao-zha-xiao-guo-shi-xian/"><div class="card-image"><img src="https://bu.dusays.com/2024/05/30/66583def251c3.png" class="responsive-img" alt="爆炸效果实现"> <span class="card-title">爆炸效果实现</span></div></a><div class="card-content article-content"><div class="summary block-with-text">基于cesium实现的体渲染爆炸效果 思路实现思路和之前的复刻柏林噪声类似都是体渲染，shader参考的是shaderToy上面的爆炸效果，可以查看下方参考链接 效果展示 参考链接Cesium 体积爆炸效果 体积火 体积烟雾</div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i> 2024-05-30</span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/cesium/" class="post-category">cesium</a></span></div></div><div class="card-action article-tags"><a href="/tags/%E4%BD%93%E6%B8%B2%E6%9F%93-%E7%88%86%E7%82%B8%E6%95%88%E6%9E%9C/"><span class="chip bg-color">体渲染 爆炸效果</span></a></div></div></div><div class="article col s12 m6 l4" data-aos="zoom-in"><div class="card"><a href="/2024/02/02/gao-du-wu-ji-liu-dong-xiao-guo-shi-xian/"><div class="card-image"><img src="https://bu.dusays.com/2024/02/02/65bc560b8c432.png" class="responsive-img" alt="高度雾及流动效果实现"> <span class="card-title">高度雾及流动效果实现</span></div></a><div class="card-content article-content"><div class="summary block-with-text">基于高度实现的雾效果，可以在一定程度上优化场景展示，本文基于cesium实现了一版线性高度雾并在此基础上添加了流动效果，大致思路如下 思路1、纹理坐标还原成世界坐标2、计算世界坐标相对于地面的高程值，以及相机坐标与片元之间的距离，并根据高程</div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i> 2024-02-02</span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/cesium/" class="post-category">cesium</a></span></div></div><div class="card-action article-tags"><a href="/tags/%E5%90%8E%E5%A4%84%E7%90%86-%E9%AB%98%E5%BA%A6%E9%9B%BE/"><span class="chip bg-color">后处理 高度雾</span></a></div></div></div><div class="article col s12 m6 l4" data-aos="zoom-in"><div class="card"><a href="/2024/02/01/hou-chu-li-shi-xian-ji-xue-xiao-guo/"><div class="card-image"><img src="https://bu.dusays.com/2024/02/01/65bb9824c0370.png" class="responsive-img" alt="后处理实现积雪效果"> <span class="card-title">后处理实现积雪效果</span></div></a><div class="card-content article-content"><div class="summary block-with-text">cesium有两种思路实现积雪效果，一种渲染在模型等上面，另外一种则是通过后处理的方式。两种方式原理基本相同，但是效果范围以及修改方式有差别，各有取舍吧，本文采用的是后处理方式实现积雪效果 思路1、根据纹理坐标还原世界坐标，将其单位化当作片</div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i> 2024-02-01</span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/cesium/" class="post-category">cesium</a></span></div></div><div class="card-action article-tags"><a href="/tags/%E5%90%8E%E5%A4%84%E7%90%86-%E7%A7%AF%E9%9B%AA/"><span class="chip bg-color">后处理 积雪</span></a></div></div></div><div class="article col s12 m6 l4" data-aos="zoom-in"><div class="card"><a href="/2024/01/04/yin-ying-lu-fen-xi/"><div class="card-image"><img src="https://bu.dusays.com/2024/01/05/659810eeaaf1e.jpg" class="responsive-img" alt="阴影率分析"> <span class="card-title">阴影率分析</span></div></a><div class="card-content article-content"><div class="summary block-with-text">cesium阴影率分析的思路大概有两种，一是开启光照并生成格网点，时钟每tick一次记录太阳的位置，构造格网点到太阳位置的射线，通过射线求交的方法计算累计光照量，但这种方法比较耗时间且复杂，二是通过shadowMap来计算，本文采用的是第二</div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i> 2024-01-04</span><span class="publish-author"><i class="fas fa-bookmark fa-fw icon-category"></i> <a href="/categories/cesium/" class="post-category">cesium</a></span></div></div><div class="card-action article-tags"><a href="/tags/%E9%98%B4%E5%BD%B1-%E7%BA%B9%E7%90%86-%E5%B8%A7%E7%BC%93%E5%86%B2/"><span class="chip bg-color">阴影 纹理 帧缓冲</span></a></div></div></div></div></article></main><div class="container paging"><div class="row"><div class="col s6 m4 l4"><a class="left btn-floating btn-large disabled"><i class="fas fa-angle-left"></i></a></div><div class="page-info col m4 l4 hide-on-small-only"><div class="center-align b-text-gray">1 / 2</div></div><div class="col s6 m4 l4"><a href="/page/2/" class="right btn-floating btn-large waves-effect waves-light bg-color"><i class="fas fa-angle-right"></i></a></div></div></div><footer class="page-footer bg-color"><div class="container row center-align" style="margin-bottom:0!important"><div class="col s12 m8 l8 copy-right">Copyright&nbsp;&copy; <span id="year">2023-2025</span> <span id="year">2023</span> <a href="/about" target="_blank">coderrc</a> |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a> |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a><br><br><br></div><div class="col s12 m4 l4 social-link"><a href="https://github.com/incheon0922" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50"><i class="fab fa-github"></i></a><a href="https://space.bilibili.com/311652727?spm_id_from=333.1007.0.0" class="tooltipped" target="_blank" data-tooltip="bilibili" data-position="top" data-delay="50"><i class="fab fa-bilibili"></i></a></div></div></footer><div class="progress-bar"></div><div id="searchModal" class="modal"><div class="modal-content"><div class="search-header"><span class="title"><i class="fas fa-search"></i> &nbsp;&nbsp;搜索</span> <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字" class="search-input"></div><div id="searchResult"></div></div></div><script>$((function(){!function(t,e,r){"use strict";$.ajax({url:t,dataType:"xml",success:function(t){var n=$("entry",t).map((function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}})).get(),a=document.getElementById(e),s=document.getElementById(r);a.addEventListener("input",(function(){var t='<ul class="search-result-list">',e=this.value.trim().toLowerCase().split(/[\s\-]+/);s.innerHTML="",this.value.trim().length<=0||(n.forEach((function(r){var n=!0,a=r.title.trim().toLowerCase(),s=r.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),i=r.url;i=0===i.indexOf("/")?r.url:"/"+i;var l=-1,c=-1,u=-1;if(""!==a&&""!==s&&e.forEach((function(t,e){l=a.indexOf(t),c=s.indexOf(t),l<0&&c<0?n=!1:(c<0&&(c=0),0===e&&(u=c))})),n){t+="<li><a href='"+i+"' class='search-result-title'>"+a+"</a>";var o=r.content.trim().replace(/<[^>]+>/g,"");if(u>=0){var h=u-20,f=u+80;h<0&&(h=0),0===h&&(f=100),f>o.length&&(f=o.length);var m=o.substr(h,f);e.forEach((function(t){var e=new RegExp(t,"gi");m=m.replace(e,'<em class="search-keyword">'+t+"</em>")})),t+='<p class="search-result">'+m+"...</p>"}t+="</li>"}})),t+="</ul>",s.innerHTML=t)}))}})}("/search.xml","searchInput","searchResult")}))</script><div id="backTop" class="top-scroll"><a class="btn-floating btn-large waves-effect waves-light" href="#!"><i class="fas fa-arrow-up"></i></a></div><script src="/libs/materialize/materialize.min.js"></script><script src="/libs/masonry/masonry.pkgd.min.js"></script><script src="/libs/aos/aos.js"></script><script src="/libs/scrollprogress/scrollProgress.min.js"></script><script src="/libs/lightGallery/js/lightgallery-all.min.js"></script><script src="/js/matery.js"></script><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}()</script><script src="/libs/instantpage/instantpage.js" type="module"></script></body></html>